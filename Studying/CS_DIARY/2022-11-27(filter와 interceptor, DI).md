# filter와 interceptor

- `filter` 와 `interceptor` 는 `AOP` 와 함께 공통 기능을 모아서 처리할 수 있는 방법을 제공한다.
- `filter` 는 `Dispatcher Servlet에 요청이 전달되기 전/후` 로 스프링 컨테이너가 아닌 톰캣과 같은 `웹 컨테이너` 에 의해 관리된다. 
- `interceptor` 는 `Controller` 를 호출하기 전/후에 `스프링 컨테이너` 에서 동작한다. 
- 필터는 다음 필터를 호출하기 위해 `chain.doFilter` 로 request, response 객체를 넘겨주기 때문에 원하는 객체를 넣어서 조작할 수 있지만 인터셉터는 디스패처 서블릿이 인터셉터 목록을 for문으로 돌면서 true 혹은 false를 반환해 동작을 제어하기 때문에 객체를 조작할 수 없다는 점에서 필터와 차이가 있다.
- 필터는 스프링과 무관하게 전역적으로 처리해야 하는 보안 검사, 이미지나 데이터의 압축, 문자열 인코딩과 같은 웹 어플리케이션 전반에 사용되는 기능을 구현할 때 사용될 수 있고
- 인터셉터는 로그인 체크와 같은 세부적인 보안 작업이나 JWT 토큰 정보를 파싱해서 컨트롤러로 넘겨주는 등의 작업에 사용될 수 있다.

# DI(Dependency Injection, 의존성 주입)

- 의존성 주입은 객체 내부에서 new 연산자를 통해 직접 호출하는 대신 외부인 스프링 컨테이너에서 객체를 생성하여 넣어주는 방식이다.
- 클래스가 아닌 객체간 의존관계를 설정함으로써 결합도는 낮추면서 코드의 재사용성을 높이고 테스트에도 용이해진다.
- 의존성을 주입하는 방법에는 필드주입, @Setter 혹은 set() 메서드를 이용한 수정자 주입, 생성자 주입이 있다.
- final 선언이 가능하여 불변성이 보장된다는 점, 필수적으로 사용해야 하는 요소 없이는 인스턴스를 만들지 못하도록 강제할 수 있다는 점 때문에 생성자 주입 방법이 권장된다.

---
### 연관자료
- [필터와 인터셉터의 개념과 차이](https://dev-coco.tistory.com/173)
- [Spring DI 3가지 방법](https://cheershennah.tistory.com/227)
- [Spring DI](https://chanhuiseok.github.io/posts/spring-5/)