# CQRS와 이벤트소싱을 활용한 마이크로서비스 구축

1. 읽기와 쓰기 데이터를 같은 레이어를 통해 사용
2. 데이터 읽기 쓰기를 위한 비즈니스 논리 처리에 동일한 데이터 모델을 사용
3. 배포 단위. 읽기와 쓰기가 하나의 배포 단위에 포함됨
4. 동일한 데이터 저장소를 사용

매우 생산적인 방식이라고 할 수 있음

단점
데이터모델이 타협적이다?
만흥ㄴ 어플리케이션이 데이터베이스 뷰에 의존. 읽기 성능을 향상시키기 위해 영구 뷰일 수 있으므로
실제로 읽기에 대한 더 견고한 모델을 ㄷ갖는다
데이터 읽고 쓰는 데 동일한 스토리지와 동일한 도메인을 갖는다

동일한 소프트웨어 아키텍쳐 스택에 함께 배포하기 때문에 읽기 쓰기를 독립적으로 확장할 수 없다.
따라서 배포에 있어서 불필요하게 병렬적으로 확장해야 한다.

데이터베이스의 트리거를 통해 본질적으롱 ㅣ 접근방식에는 어떤것도 포함되어 있지 않다는 것이다
관계형 테이블에서 업데이트를 할 때 새로운 기록 데이터만 읽을 수 있다. 계속해서 요청 상태로 롤백할 수 없다.??

거대한 단일체를 생성하는 경향이 있다

이벤트 소싱
일련의 이벤트로 표현하는 아키텍쳐 패턴
관계 저장소에 하나의 상태가 저장X
일반적으로 특정 이벤트에 의해 상태가 계산

이벤트 이름의 좋은 예 > 과거시제
ShipmentDeliveredEvent(O)
CreateCustomerEvent(X)





---
#### 관련 자료

- [Building microservices with event sourcing and CQRS](https://youtu.be/A0goyZ9F4bg?si=78R5nZVUe1cuighx)
- [테코톡_학성의 Event Sourcing](https://youtu.be/wJqHFpRmkmw?si=wijczuV2ol63Gr4Z)