---
title : Transaction이란?
keyword : 트랜잭션, ACID, 원일고지, 격리수준
--- 

- 트랜잭션이랑 DB에서 수행되는 여러 작업을 하나의 논리적 단위로 수행하는 것을 의미합니다.
- 거래 시스템을 예로 들면, 하나의 계좌에서 10,000원이 출금되었는데 상대 계좌에 10,000원이 입금되기 전에 오류가 발생했다면 10,000원이 출금되기만 해서 결국 데이터의 무결성이 깨지게 됩니다. 
- 따라서 출금과 입금이라는 연산을 하나의 작업 단위로 묶어서 두 연산이 모두 성공했다면 commit 연산을 통해 DB에 반영을 하고 하나라도 실패했다면 거래 시작 전으로 되돌리는 rollback 연산을 하도록 하는 것입니다.
- 트랜잭션의 주요 개념으로는 트랜잭션이 안전하게 수행된다는 것을 보장하는 ACID라는 성질이 있습니다. 각각 하나의 트랜잭션 안에서의 연산은 모두 성공하거나 모두 실패해야 한다는 원자성, 데이터베이스의 상태가 일관되어야 한다는 일관성, 다른 트랜잭션의 영향을 주거나 받지 않아야 한다는 고립성, 트랜잭션이 성공하면 영구적으로 DB에 반영되어야 한다는 지속성을 의미합니다.
- 이 중 고립성의 경우는 완전하게 지킨다면 성능상 단점이 될 수 있기 때문에 네 가지 격리 수준으로 구분하기도 합니다.
- 아직 커밋되지 않은 데이터도 읽을 수 있는 READ-UNCOMMITED는 Dirty Read라는 문제, 커밋된 데이터만 읽을 수 있는 READ-COMMITED는 Non-Repeatable-Read 문제, 특정 데이터를 조회시 같은 값을 반환해주는 REPEATABLE-READ는 Phantom Read 문제가 발생할 수 있으며 모든 트랜잭션은 순차적으로 수행하는 SERIALIZABLE은 속도는 느리지만 데이터의 일관성을 보장할 수 있습니다.
