# 프로젝트 설명과 역할

- 입지 않는 의류가 버려지지 않고 필요한 사람에게 갈 수 있도록 하는 일종의 중고 거래 플랫폼입니다.
- 판매자가 의류를 대량으로 수거 신청을 하면 관리자가 해당 의류를 수거하고 가격을 책정해서 사이트에 등록을 하게 되고 구매자가 사이트를 보고 구매하는 방식입니다. 판매자는 사용하지 않는 의류를 대량으로 등록하고 판매는 신경쓰지 않음으로써 편리하게 의류를 처리할 수 있고 또한 어느정도 포인트로 보상을 받을 수도 있습니다.
- 이 프로젝트에서 제가 맡은 역할은, 의류 수거 신청이나 장바구니 페이지와 같은 비교적 복잡한 로직이 들어간 페이지 구현과 여러군데에서 사용되는 정렬, 검색, 댓글 컴포넌트들을 재사용성 있는 구조로 구현하는 일이었습니다.

# 컴포넌트 분리

- 프로젝트를 진행하면서 고민했던 부분은 컴포넌트를 어떻게 분리할 것이냐였습니다.
- 댓글 컴포넌트 같은 경우, 크게 댓글 입력 input창과 등록된 댓글 리스트 두 부분으로 나눌 수가 있는데요. 댓글 입력의 경우 처음에는 input 데이터를 useState와 onChange를 이용해서 구현했기 때문에 사용자가 댓글을 입력할 때마다 댓글 컴포넌트가 전부 리렌더링 되었습니다. 때문에 렌더링 되지 않아도 될 댓글 리스트 부분이 불필요하게 함께 리렌더링 되었고 이 부분은 댓글 입력 input창과 댓글 리스트를 분리함으로써 어느정도 해결을 하였습니다.
- 그런데 장바구니 페이지 같은 경우는 장바구니 리스트와 장바구니 결제 정보 두 부분으로 나뉘다고 했을 때 장바구니 리스트가 변경이 되면 장바구니 결제 정보 부분도 함께 변경이 되어야 하기 때문에 함께 리렌더링 되는 것이 맞고, 그렇다면 이 컴포넌트는 분리하지 않는 것이 맞을까? 라는 고민을 했었습니다.
- 이 부분에 대해서는 멘토링을 진행하면서 멘토분께 질문을 했었고 렌더링을 기준으로 컴포넌트를 나눈다기보다는 유지보수성과 가독성 등 여러가지를 고려해서 개발자가 판단해야 한다는 답변을 들었고 그 이유로 컴포넌트를 분리하게 되었습니다.

# 댓글 컴포넌트

- 그리고 위에서 잠깐 말씀드렸던 댓글 컴포넌트 같은 경우 처음에 useState와 onChange로 input 데이터를 다루었다고 말씀드렸는데
- 사실 사용자가 댓글을 모두 쓰고 입력 버튼을 눌렀을 때 input창에 있는 데이터가 백엔드로 전달이 되면 되는 것이므로 입력할 때마다 데이터의 변동이 있을 필요가 없었습니다.
- 그래서 이 부분은 사용자가 입력을 할 때는 이벤트를 발생시키지 않다가 입력이 끝났을 때 이벤트를 발생시키는 기능을 useDebounce 커스텀 훅으로 만들어서 구현을 했었는데 댓글을 입력하자마자 빠르게 엔터로 댓글 등록을 눌렀을 때 제대로 데이터가 전달이 되지 않는 이슈가 있었고 이후에 useRef로 input 데이터를 관리해서 사용자가 입력을 하는 도중에는 데이터는 변화되어도 리렌더링 되지 않도록 하는 방식으로 리팩토링 하였습니다.

# 재사용가능한 컴포넌트

- 그리고 마지막으로 컴포넌트를 제작할 때 여러군데에서 사용될 여지가 있는 컴포넌트라면 공통된 부분은 그대로 두고 페이지마다 다르게 적용되어야 하는 부분은 매개변수로 다르게 받음으로써 재사용가능하게 만들려고 고민하였습니다.