# [ë¬¸ì œë§í¬](https://www.acmicpc.net/problem/16234)

## ğŸ“ ë¬¸ì œ

NÃ—Ní¬ê¸°ì˜ ë•…ì´ ìˆê³ , ë•…ì€ 1Ã—1ê°œì˜ ì¹¸ìœ¼ë¡œ ë‚˜ëˆ„ì–´ì ¸ ìˆë‹¤. ê°ê°ì˜ ë•…ì—ëŠ” ë‚˜ë¼ê°€ í•˜ë‚˜ì”© ì¡´ì¬í•˜ë©°, rí–‰ cì—´ì— ìˆëŠ” ë‚˜ë¼ì—ëŠ” A\[r\]\[c\]ëª…ì´ ì‚´ê³  ìˆë‹¤. ì¸ì ‘í•œ ë‚˜ë¼ ì‚¬ì´ì—ëŠ” êµ­ê²½ì„ ì´ ì¡´ì¬í•œë‹¤. ëª¨ë“  ë‚˜ë¼ëŠ” 1Ã—1 í¬ê¸°ì´ê¸° ë•Œë¬¸ì—, ëª¨ë“  êµ­ê²½ì„ ì€ ì •ì‚¬ê°í˜• í˜•íƒœì´ë‹¤.

ì˜¤ëŠ˜ë¶€í„° ì¸êµ¬ ì´ë™ì´ ì‹œì‘ë˜ëŠ” ë‚ ì´ë‹¤.

ì¸êµ¬ ì´ë™ì€ í•˜ë£¨ ë™ì•ˆ ë‹¤ìŒê³¼ ê°™ì´ ì§„í–‰ë˜ê³ , ë” ì´ìƒ ì•„ë˜ ë°©ë²•ì— ì˜í•´ ì¸êµ¬ ì´ë™ì´ ì—†ì„ ë•Œê¹Œì§€ ì§€ì†ëœë‹¤.

-   êµ­ê²½ì„ ì„ ê³µìœ í•˜ëŠ” ë‘ ë‚˜ë¼ì˜ ì¸êµ¬ ì°¨ì´ê°€ Lëª… ì´ìƒ, Rëª… ì´í•˜ë¼ë©´,Â ë‘ ë‚˜ë¼ê°€ ê³µìœ í•˜ëŠ” êµ­ê²½ì„ ì„ ì˜¤ëŠ˜ í•˜ë£¨ ë™ì•ˆ ì—°ë‹¤.
-   ìœ„ì˜ ì¡°ê±´ì—Â ì˜í•´ ì—´ì–´ì•¼í•˜ëŠ” êµ­ê²½ì„ ì´ ëª¨ë‘ ì—´ë ¸ë‹¤ë©´, ì¸êµ¬ ì´ë™ì„ ì‹œì‘í•œë‹¤.
-   êµ­ê²½ì„ ì´ ì—´ë ¤ìˆì–´ ì¸ì ‘í•œ ì¹¸ë§Œì„ ì´ìš©í•´ ì´ë™í•  ìˆ˜ ìˆìœ¼ë©´, ê·¸ ë‚˜ë¼ë¥¼ ì˜¤ëŠ˜ í•˜ë£¨ ë™ì•ˆì€ ì—°í•©ì´ë¼ê³  í•œë‹¤.
-   ì—°í•©ì„ ì´ë£¨ê³  ìˆëŠ” ê° ì¹¸ì˜ ì¸êµ¬ìˆ˜ëŠ” (ì—°í•©ì˜ ì¸êµ¬ìˆ˜) / (ì—°í•©ì„ ì´ë£¨ê³  ìˆëŠ” ì¹¸ì˜ ê°œìˆ˜)ê°€ ëœë‹¤. í¸ì˜ìƒÂ ì†Œìˆ˜ì ì€ ë²„ë¦°ë‹¤.
-   ì—°í•©ì„ í•´ì²´í•˜ê³ , ëª¨ë“  êµ­ê²½ì„ ì„ ë‹«ëŠ”ë‹¤.

ê° ë‚˜ë¼ì˜ ì¸êµ¬ìˆ˜ê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ì¸êµ¬ ì´ë™ì´ ë©°ì¹  ë™ì•ˆ ë°œìƒí•˜ëŠ”ì§€ êµ¬í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ì‹œì˜¤.

## ì…ë ¥

ì²«ì§¸ ì¤„ì— N, L, Rì´ ì£¼ì–´ì§„ë‹¤. (1 â‰¤ N â‰¤ 50, 1 â‰¤ L â‰¤ R â‰¤ 100)

ë‘˜ì§¸ ì¤„ë¶€í„° Nê°œì˜ ì¤„ì— ê° ë‚˜ë¼ì˜ ì¸êµ¬ìˆ˜ê°€ ì£¼ì–´ì§„ë‹¤. rí–‰ cì—´ì— ì£¼ì–´ì§€ëŠ” ì •ìˆ˜ëŠ” A\[r\]\[c\]ì˜ ê°’ì´ë‹¤. (0 â‰¤ A\[r\]\[c\] â‰¤ 100)

ì¸êµ¬ ì´ë™ì´ ë°œìƒí•˜ëŠ” ì¼ìˆ˜ê°€ 2,000ë²ˆ ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ì…ë ¥ë§Œ ì£¼ì–´ì§„ë‹¤.

## ì¶œë ¥

ì¸êµ¬ ì´ë™ì´ ë©°ì¹  ë™ì•ˆÂ ë°œìƒí•˜ëŠ”ì§€ ì²«ì§¸ ì¤„ì— ì¶œë ¥í•œë‹¤.

## ì˜ˆì œ ì…ë ¥ 1Â 

2 20 50
50 30
20 40

## ì˜ˆì œ ì¶œë ¥ 1Â 

1

ì´ˆê¸° ìƒíƒœëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

![](https://upload.acmicpc.net/2993ef69-f57e-4d46-a9b3-eb3a05612dc7/-/preview/)

L = 20, R = 50 ì´ê¸° ë•Œë¬¸ì—, ëª¨ë“  ë‚˜ë¼ ì‚¬ì´ì˜ êµ­ê²½ì„ ì´ ì—´ë¦°ë‹¤. (ì—´ë¦° êµ­ê²½ì„ ì€ ì ì„ ìœ¼ë¡œ í‘œì‹œ)

![](https://upload.acmicpc.net/3e73073e-b68e-478b-90fd-f158f44863b7/-/preview/)

ì—°í•©ì€ í•˜ë‚˜ ì¡´ì¬í•˜ê³ , ì—°í•©ì˜ ì¸êµ¬ëŠ” (50 + 30 + 20 + 40) ì´ë‹¤. ì—°í•©ì˜ í¬ê¸°ê°€ 4ì´ê¸° ë•Œë¬¸ì—, ê° ì¹¸ì˜ ì¸êµ¬ìˆ˜ëŠ”Â 140/4 = 35ëª…ì´ ë˜ì–´ì•¼ í•œë‹¤.Â 

![](https://upload.acmicpc.net/78951cb1-213d-416b-a64d-fb80697af36a/-/preview/)

## ì˜ˆì œ ì…ë ¥ 2Â 

2 40 50
50 30
20 40

## ì˜ˆì œ ì¶œë ¥ 2Â 

0

ê²½ê³„ë¥¼ ê³µìœ í•˜ëŠ” ë‚˜ë¼ì˜ ì¸êµ¬ ì°¨ì´ê°€ ëª¨ë‘ Lë³´ë‹¤ ì‘ì•„ì„œ ì¸êµ¬ ì´ë™ì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤.

## ì˜ˆì œ ì…ë ¥ 3Â 

2 20 50
50 30
30 40

## ì˜ˆì œ ì¶œë ¥ 3Â 

1

ì´ˆê¸° ìƒíƒœëŠ” ì•„ë˜ì™€ ê°™ë‹¤.

![](https://upload.acmicpc.net/c70d5726-35d0-4af8-96f7-f01371db935f/-/preview/)

L = 20, R = 50ì´ê¸° ë•Œë¬¸ì—, ì•„ë˜ì™€ ê°™ì´ êµ­ê²½ì„ ì´ ì—´ë¦°ë‹¤.

![](https://upload.acmicpc.net/eff2e0d7-3b05-4b4d-88d6-4fc56fd946c6/-/preview/)

ì¸êµ¬ ìˆ˜ëŠ” í•©ì³ì ¸ìˆëŠ” ì—°í•©ì˜ ì¸êµ¬ìˆ˜ëŠ” (50+30+30) / 3 =Â 36 (ì†Œìˆ˜ì  ë²„ë¦¼)ì´ ë˜ì–´ì•¼ í•œë‹¤.

![](https://upload.acmicpc.net/c54b09bd-7b13-4f41-9c80-271497c3239e/-/preview/)

## ì˜ˆì œ ì…ë ¥ 4Â 

3 5 10
10 15 20
20 30 25
40 22 10

## ì˜ˆì œ ì¶œë ¥ 4Â 

2

## ì˜ˆì œ ì…ë ¥ 5Â 

4 10 50
10 100 20 90
80 100 60 70
70 20 30 40
50 20 100 10

## ì˜ˆì œ ì¶œë ¥ 5Â 

3

---

### ğŸ” ì •ë‹µ

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.ArrayList;
import java.util.LinkedList;
import java.util.Queue;
import java.util.StringTokenizer;

public class Main {
    static int N, L, R;
    static int sum;
    static int[][] nation;
    static boolean[][] visit;
    static ArrayList<Location> list;
    static int[] dx = {0, 0, 1, -1};
    static int[] dy = {1, -1, 0, 0};

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());       // ë•…ì˜ í¬ê¸°(N * N)
        L = Integer.parseInt(st.nextToken());       // Lëª… ì´ìƒ
        R = Integer.parseInt(st.nextToken());       // Rëª… ì´í•˜

        nation = new int[N][N];

        // ë‚˜ë¼ë³„ ì¸êµ¬ìˆ˜ ì…ë ¥
        for (int i = 0; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < N; j++) {
                nation[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        /**
         * ì—°í•©ì„ êµ¬ì„±í•´ì„œ listì— ë„£ê³  ì—°í•©ì´ ë‘˜ ì´ìƒì´ë©´ flag = trueì™€ calculate() ë¥¼ ì‹¤í–‰!
         * ì–´ë– í•œ ì—°í•©ë„ ì—†ë‹¤ë©´ (list.size() = 1) whileë¬¸ì„ ì¢…ë£Œì‹œí‚¨ë‹¤.
         */
        int days = 0;
        while (true) {
            boolean flag = false;
            visit = new boolean[N][N];

            for (int i = 0; i < N; i++) {
                for (int j = 0; j < N; j++) {
                    if (!visit[i][j]) {
                        bfs(i, j);
                        if (list.size() > 1) {
                            flag = true;
                            calculate();
                        }
                    }
                }
            }

            if (!flag) break;
            days++;
        }
        System.out.println(days);
    }

    /**
     * qì— ë“¤ì–´ê°„ ê³³ì„ ê¸°ì¤€ìœ¼ë¡œ ìƒí•˜ì¢Œìš°ë¥¼ íƒìƒ‰í•˜ê³  ì¸êµ¬ìˆ˜ ì°¨ì´ê°€ ì¡°ê±´ì— ë¶€í•©í•˜ë©´ ì—°í•©ì„ êµ¬ì„±(q.offer, list.add)
     * ê·¸ë¦¬ê³  ì¸êµ¬ìˆ˜ë¥¼ ëˆ„ì í•˜ê³  list.size() ë¡œ ë‚˜ëˆ„ì–´ì„œ ë°°ë¶„í•œë‹¤(calculate ë©”ì„œë“œ!)
     * qëŠ” ì—°í•©ì„ êµ¬ì„±í•˜ê¸° ìœ„í•œ ê²ƒì´ê³  listëŠ” ì—°í•©ë“¤ì˜ ì¸êµ¬ìˆ˜ë¥¼ ë¶„ë°°í•˜ê¸° ìœ„í•¨ì´ë‹¤!
     */
    public static void bfs(int x, int y) {
        Queue<Location> q = new LinkedList<>();
        list = new ArrayList<>();

        visit[x][y] = true;

        q.offer(new Location(x, y));
        list.add(new Location(x, y));

        sum = nation[x][y];
        while (!q.isEmpty()) {
            Location lo = q.poll();

            for (int i = 0; i < 4; i++) {
                int cx = lo.x + dx[i];
                int cy = lo.y + dy[i];

                if (cx >= 0 && cy >= 0 && cx < N && cy < N) {
                    if (!visit[cx][cy] && Math.abs(nation[lo.x][lo.y] - nation[cx][cy]) >= L && Math.abs(nation[lo.x][lo.y] - nation[cx][cy]) <= R) {
                        visit[cx][cy] = true;
                        q.offer(new Location(cx, cy));
                        list.add(new Location(cx, cy));
                        sum += nation[cx][cy];
                    }
                }
            }
        }
    }

    public static void calculate() {
        int population = sum / list.size();
        for (Location lo : list) {
            nation[lo.x][lo.y] = population;
        }
    }

    public static class Location {
        int x, y;

        public Location(final int x, final int y) {
            this.x = x;
            this.y = y;
        }
    }
}
```


### âŒ ì‹œê°„ì´ˆê³¼

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.LinkedList;
import java.util.Queue;
import java.util.StringTokenizer;

public class Main {
    static int N, L, R;
    static int[][] nation;
    static boolean[][] visit;
    static boolean[][] border;
    static int[] dx = {0, 0, 1, -1};
    static int[] dy = {1, -1, 0, 0};
    static int population, count;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        StringTokenizer st = new StringTokenizer(br.readLine());
        N = Integer.parseInt(st.nextToken());       // ë•…ì˜ í¬ê¸°(N * N)
        L = Integer.parseInt(st.nextToken());       // Lëª… ì´ìƒ
        R = Integer.parseInt(st.nextToken());       // Rëª… ì´í•˜

        nation = new int[N][N];

        for (int i = 0; i < N; i++) {
            st = new StringTokenizer(br.readLine());
            for (int j = 0; j < N; j++) {
                nation[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        int days = 0;
        while (true) {
            boolean flag = false;
            visit = new boolean[N][N];

            for (int i = 0; i < N; i++) {
                for (int j = 0; j < N; j++) {
                    if (!visit[i][j]) {
                        bfs(i, j);

                        int newPopulation = population / count;
                        for (int k = 0; k < N; k++) {
                            for (int l = 0; l < N; l++) {
                                if (border[k][l]) {
                                    flag = true;
                                    nation[k][l] = newPopulation;
                                    border[k][l] = false;
                                }
                            }
                        }
                    }
                }
            }
            if (!flag) break;
            days++;
        }
        System.out.println(days);
    }

    public static void bfs(int x, int y) {
        Queue<Location> q = new LinkedList<>();
        border = new boolean[N][N];
        visit[x][y] = true;
        q.offer(new Location(x, y));

        population = 0;
        count = 0;
        while (!q.isEmpty()) {
            Location lo = q.poll();
            population += nation[lo.x][lo.y];
            count++;

            for (int i = 0; i < 4; i++) {
                int cx = lo.x + dx[i];
                int cy = lo.y + dy[i];

                if (cx >= 0 && cy >= 0 && cx < N && cy < N) {
                    if (!visit[cx][cy] && Math.abs(nation[lo.x][lo.y] - nation[cx][cy]) >= L && Math.abs(nation[lo.x][lo.y] - nation[cx][cy]) <= R) {
                        border[lo.x][lo.y] = true;
                        visit[cx][cy] = true;
                        border[cx][cy] = true;
                        q.offer(new Location(cx, cy));
                    }
                }
            }
        }
    }

    public static class Location {
        int x, y;

        public Location(final int x, final int y) {
            this.x = x;
            this.y = y;
        }
    }
}
```
- ì²˜ìŒì—ëŠ” borderë¼ëŠ” 2ì°¨ì› boolean ë°°ì—´ì„ ì„ ì–¸í•´ì„œ ì¸êµ¬ ì´ë™ì´ ê°€ëŠ¥í•œ ì¡°ê±´ì˜ ë‚˜ë¼ë¼ë©´ border = trueë¡œ ë°”ê¾¸ì–´ì„œ ì—°í•©ì„ êµ¬ì„±í•˜ê³  ì¸êµ¬ìˆ˜ë¥¼ ë¶„ë°°í•˜ë ¤ê³  í•˜ì˜€ë‹¤. ê·¸ë¦¬ê³  ì—°í•©ì´ ì—†ì–´ì„œ borderê°€ trueì¸ ê²½ìš°ê°€ ì¡´ì¬í•˜ì§€ ì•Šìœ¼ë©´ whileë¬¸ì„ ì¢…ë£Œì‹œí‚¬ ìƒê°ì´ì—ˆë‹¤.
- ê·¸ëŸ°ë° ì—°í•©ì´ ì—¬ëŸ¬ê°œ ì¡´ì¬í•  ê²½ìš°, ì´ì „ì— trueì˜€ë˜ ì¢Œí‘œë“¤ì„ falseë¡œ ë‹¤ì‹œ ë°”ê¿”ì•¼ í–ˆê¸° ë•Œë¬¸ì— borderë¡œëŠ” whileë¬¸ì„ ì¢…ë£Œì‹œí‚¬ ìˆ˜ê°€ ì—†ì—ˆê³  ë”°ë¡œ flagë¼ëŠ” ë³€ìˆ˜ë¥¼ ì´ìš©í•´ì•¼ í–ˆë‹¤ ã… ã… 
- ì´ë ‡ê²Œ í•˜ë©´ 2ì°¨ì› booleanë°°ì—´ì´ 2ê°œ ì¡´ì¬í•´ì„œ(visit) ê°€ë…ì„±ì´ ì¢‹ì§€ ì•Šì•˜ê³  4ì¤‘ forë¬¸ìœ¼ë¡œ ì¸í•´ 80%ì—ì„œ ì‹œê°„ì´ˆê³¼ê°€ ë‚¬ë‹¤ ã… ã… 