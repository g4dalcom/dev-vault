# [ë¬¸ì œë§í¬](https://www.acmicpc.net/problem/9466)

## ğŸ“ ë¬¸ì œ

ì´ë²ˆ ê°€ì„í•™ê¸°ì— 'ë¬¸ì œ í•´ê²°' ê°•ì˜ë¥¼ ì‹ ì²­í•œ í•™ìƒë“¤ì€Â í…€ í”„ë¡œì íŠ¸ë¥¼ ìˆ˜í–‰í•´ì•¼ í•œë‹¤. í”„ë¡œì íŠ¸ íŒ€ì› ìˆ˜ì—ëŠ” ì œí•œì´ ì—†ë‹¤. ì‹¬ì§€ì–´ ëª¨ë“  í•™ìƒë“¤ì´ ë™ì¼í•œ íŒ€ì˜ íŒ€ì›ì¸ ê²½ìš°ì™€Â ê°™ì´Â í•œ íŒ€ë§Œ ìˆì„ ìˆ˜ë„ ìˆë‹¤. í”„ë¡œì íŠ¸ íŒ€ì„ êµ¬ì„±í•˜ê¸° ìœ„í•´,Â ëª¨ë“  í•™ìƒë“¤ì€ í”„ë¡œì íŠ¸ë¥¼ í•¨ê»˜í•˜ê³  ì‹¶ì€Â í•™ìƒì„Â ì„ íƒí•´ì•¼ í•œë‹¤. (ë‹¨, ë‹¨ í•œ ëª…ë§Œ ì„ íƒí•  ìˆ˜ ìˆë‹¤.)Â í˜¼ì í•˜ê³  ì‹¶ì–´í•˜ëŠ” í•™ìƒì€ ìê¸° ìì‹ ì„ ì„ íƒí•˜ëŠ” ê²ƒë„ ê°€ëŠ¥í•˜ë‹¤.

í•™ìƒë“¤ì´(s1, s2, ..., sr)ì´ë¼ í•  ë•Œ,Â r=1ì´ê³  s1ì´ s1ì„ ì„ íƒí•˜ëŠ” ê²½ìš°ë‚˜, s1ì´ s2ë¥¼ ì„ íƒí•˜ê³ , s2ê°€ s3ë¥¼ ì„ íƒí•˜ê³ ,..., sr-1ì´ srì„ ì„ íƒí•˜ê³ , srì´ s1ì„ ì„ íƒí•˜ëŠ” ê²½ìš°ì—ë§Œ í•œ íŒ€ì´ ë  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, í•œ ë°˜ì— 7ëª…ì˜ í•™ìƒì´ ìˆë‹¤ê³  í•˜ì. í•™ìƒë“¤ì„ 1ë²ˆë¶€í„° 7ë²ˆìœ¼ë¡œ í‘œí˜„í•  ë•Œ, ì„ íƒì˜ ê²°ê³¼ëŠ” ë‹¤ìŒê³¼ ê°™ë‹¤.

| 1   | 2   | 3   | 4   | 5   | 6   | 7   |
|:--- |:--- |:--- |:--- |:--- |:--- |:--- |
| 3   | 1   | 3   | 7   | 3   | 4   | 6    |


ìœ„ì˜ ê²°ê³¼ë¥¼ í†µí•´ (3)ê³¼ (4, 7, 6)ì´ íŒ€ì„ ì´ë£° ìˆ˜ ìˆë‹¤. 1, 2, 5ëŠ” ì–´ëŠ íŒ€ì—ë„ ì†í•˜ì§€ ì•ŠëŠ”ë‹¤.

ì£¼ì–´ì§„ ì„ íƒì˜ ê²°ê³¼ë¥¼ ë³´ê³  ì–´ëŠ í”„ë¡œì íŠ¸ íŒ€ì—ë„ ì†í•˜ì§€ ì•ŠëŠ” í•™ìƒë“¤ì˜ ìˆ˜ë¥¼ ê³„ì‚°í•˜ëŠ” í”„ë¡œê·¸ë¨ì„ ì‘ì„±í•˜ë¼.

## ì…ë ¥

ì²«ì§¸ ì¤„ì— í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ê°œìˆ˜ Tê°€ ì£¼ì–´ì§„ë‹¤. ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ì²« ì¤„ì—ëŠ” í•™ìƒì˜ ìˆ˜ê°€ ì •ìˆ˜Â n (2 â‰¤ nÂ â‰¤ 100,000)ìœ¼ë¡œÂ ì£¼ì–´ì§„ë‹¤. ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ì˜ ë‘˜ì§¸ ì¤„ì—ëŠ”Â ì„ íƒëœ í•™ìƒë“¤ì˜ ë²ˆí˜¸ê°€ ì£¼ì–´ì§„ë‹¤.Â (ëª¨ë“  í•™ìƒë“¤ì€ 1ë¶€í„° nê¹Œì§€ ë²ˆí˜¸ê°€ ë¶€ì—¬ëœë‹¤.)

## ì¶œë ¥

ê° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ë§ˆë‹¤ í•œ ì¤„ì— ì¶œë ¥í•˜ê³ , ê° ì¤„ì—ëŠ” í”„ë¡œì íŠ¸ íŒ€ì— ì†í•˜ì§€ ëª»í•œ í•™ìƒë“¤ì˜ ìˆ˜ë¥¼ ë‚˜íƒ€ë‚´ë©´ ëœë‹¤.

## ì˜ˆì œ ì…ë ¥ 1Â 

2
7
3 1 3 7 3 4 6
8
1 2 3 4 5 6 7 8

## ì˜ˆì œ ì¶œë ¥ 1Â 

3
0

---

### ğŸ” ì •ë‹µ

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class Main {
    static int N;
    static int[] selected;
    static boolean[] visit;
    static boolean[] isTeam;
    static int cnt;

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        int T = Integer.parseInt(br.readLine());    // í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤

        while (T-- > 0) {
            N = Integer.parseInt(br.readLine());    // í•™ìƒ ìˆ˜

            selected = new int[N+1];        // ì„ íƒí•œ ë²ˆí˜¸
            visit = new boolean[N+1];       // ë°©ë¬¸ ì²´í¬
            isTeam = new boolean[N+1];      // íŒ€ì„ ì´ë£¨ì—ˆëŠ”ì§€ ì—¬ë¶€

            StringTokenizer st = new StringTokenizer(br.readLine());
            for (int i = 1; i <= N; i++) {
                selected[i] = Integer.parseInt(st.nextToken());
            }

            cnt = 0;
            for (int i = 1; i <= N; i++) {
                if (!isTeam[i]) {
                    dfs(i);
                }
            }
            System.out.println(N - cnt);
        }
    }

    public static void dfs(int num) {
        // íŒ€ì„ ì´ë£¨ì—ˆìœ¼ë©´ íƒìƒ‰í•˜ì§€ ì•ŠìŒ
        if (isTeam[num]) return;

        // ë°©ë¬¸í–ˆë˜ ê³³ì´ë¼ë©´ ì‚¬ì´í´ì´ í˜•ì„±ëœ ê²ƒì´ë¯€ë¡œ íŒ€ ì²´í¬ë¥¼ í•´ì¤Œ!
        if (visit[num]) {
            isTeam[num] = true;
            cnt++;
        }

        visit[num] = true;
        dfs(selected[num]);

        isTeam[num] = true;
        visit[num] = false;
    }
}
```