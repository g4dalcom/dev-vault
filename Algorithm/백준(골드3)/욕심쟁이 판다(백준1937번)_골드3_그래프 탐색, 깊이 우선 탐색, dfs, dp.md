# [ë¬¸ì œë§í¬](https://www.acmicpc.net/problem/1937)

## ğŸ“ ë¬¸ì œ

n Ã— nì˜ í¬ê¸°ì˜ ëŒ€ë‚˜ë¬´ ìˆ²ì´ ìˆë‹¤. ìš•ì‹¬ìŸì´ íŒë‹¤ëŠ” ì–´ë–¤ ì§€ì—­ì—ì„œ ëŒ€ë‚˜ë¬´ë¥¼ ë¨¹ê¸° ì‹œì‘í•œë‹¤. ê·¸ë¦¬ê³  ê·¸ ê³³ì˜ ëŒ€ë‚˜ë¬´ë¥¼ ë‹¤ ë¨¹ì–´ ì¹˜ìš°ë©´ ìƒ, í•˜, ì¢Œ, ìš° ì¤‘ í•œ ê³³ìœ¼ë¡œ ì´ë™ì„ í•œë‹¤. ê·¸ë¦¬ê³  ë˜ ê·¸ê³³ì—ì„œ ëŒ€ë‚˜ë¬´ë¥¼ ë¨¹ëŠ”ë‹¤. ê·¸ëŸ°ë° ë‹¨ ì¡°ê±´ì´ ìˆë‹¤. ì´ íŒë‹¤ëŠ” ë§¤ìš° ìš•ì‹¬ì´ ë§ì•„ì„œ ëŒ€ë‚˜ë¬´ë¥¼ ë¨¹ê³  ìë¦¬ë¥¼ ì˜®ê¸°ë©´ ê·¸ ì˜®ê¸´ ì§€ì—­ì— ê·¸ ì „ ì§€ì—­ë³´ë‹¤ ëŒ€ë‚˜ë¬´ê°€ ë§ì´ ìˆì–´ì•¼ í•œë‹¤.

ì´ íŒë‹¤ì˜ ì‚¬ìœ¡ì‚¬ëŠ” ì´ëŸ° íŒë‹¤ë¥¼ ëŒ€ë‚˜ë¬´ ìˆ²ì— í’€ì–´ ë†“ì•„ì•¼ í•˜ëŠ”ë°, ì–´ë–¤ ì§€ì ì— ì²˜ìŒì— í’€ì–´ ë†“ì•„ì•¼ í•˜ê³ , ì–´ë–¤ ê³³ìœ¼ë¡œ ì´ë™ì„ ì‹œì¼œì•¼ íŒë‹¤ê°€ ìµœëŒ€í•œ ë§ì€ ì¹¸ì„ ë°©ë¬¸í•  ìˆ˜ ìˆëŠ”ì§€ ê³ ë¯¼ì— ë¹ ì ¸ ìˆë‹¤. ìš°ë¦¬ì˜ ì„ë¬´ëŠ” ì´ ì‚¬ìœ¡ì‚¬ë¥¼ ë„ì™€ì£¼ëŠ” ê²ƒì´ë‹¤. n Ã— n í¬ê¸°ì˜ ëŒ€ë‚˜ë¬´ ìˆ²ì´ ì£¼ì–´ì ¸ ìˆì„ ë•Œ, ì´ íŒë‹¤ê°€ ìµœëŒ€í•œ ë§ì€ ì¹¸ì„ ì´ë™í•˜ë ¤ë©´ ì–´ë–¤ ê²½ë¡œë¥¼ í†µí•˜ì—¬ ì›€ì§ì—¬ì•¼ í•˜ëŠ”ì§€ êµ¬í•˜ì—¬ë¼.

## ì…ë ¥

ì²«ì§¸ ì¤„ì— ëŒ€ë‚˜ë¬´ ìˆ²ì˜ í¬ê¸° n(1 â‰¤ n â‰¤ 500)ì´ ì£¼ì–´ì§„ë‹¤. ê·¸ë¦¬ê³  ë‘˜ì§¸ ì¤„ë¶€í„° n+1ë²ˆì§¸ ì¤„ê¹Œì§€ ëŒ€ë‚˜ë¬´ ìˆ²ì˜ ì •ë³´ê°€ ì£¼ì–´ì§„ë‹¤. ëŒ€ë‚˜ë¬´ ìˆ²ì˜ ì •ë³´ëŠ” ê³µë°±ì„ ì‚¬ì´ë¡œ ë‘ê³  ê° ì§€ì—­ì˜ ëŒ€ë‚˜ë¬´ì˜ ì–‘ì´ ì •ìˆ˜ ê°’ìœ¼ë¡œ ì£¼ì–´ì§„ë‹¤. ëŒ€ë‚˜ë¬´ì˜ ì–‘ì€ 1,000,000ë³´ë‹¤ ì‘ê±°ë‚˜ ê°™ì€ ìì—°ìˆ˜ì´ë‹¤.

## ì¶œë ¥

ì²«ì§¸ ì¤„ì—ëŠ” íŒë‹¤ê°€ ì´ë™í•  ìˆ˜ ìˆëŠ” ì¹¸ì˜ ìˆ˜ì˜ ìµœëŒ“ê°’ì„ ì¶œë ¥í•œë‹¤.

## ì˜ˆì œ ì…ë ¥ 1Â 

4
14 9 12 10
1 11 5 4
7 15 2 13
6 3 16 8

## ì˜ˆì œ ì¶œë ¥ 1Â 

4

---

### ğŸ’¡ í’€ì´

- DFSë¡œ ì™„ì „ íƒìƒ‰ì„ í•˜ë©´ ì‹œê°„ ì´ˆê³¼ê°€ ë‚œë‹¤. ë”°ë¼ì„œ DPì˜ ë©”ëª¨ì´ì œì´ì…˜ ê¸°ë²•ë„ ì´ìš©í•´ì•¼ í•œë‹¤.
- ì²˜ìŒ ì‹œì‘í•˜ëŠ” ì¥ì†Œë„ ì¹´ìš´íŒ…ì„ í•´ì•¼í•˜ê¸° ë•Œë¬¸ì— ê¸°ë³¸ì ìœ¼ë¡œ dp\[x\]\[y\] = 1ë¡œ ì´ˆê¸°í™”ë¥¼ í•˜ë˜, ì´ì „ì— ê°±ì‹ í•œ ê°’ì´ ìˆë‹¤ë©´ ê·¸ ê°’ì„ ë¦¬í„´í•´ì¤€ë‹¤.
- ëª¨ë“  ê²½ìš°ì˜ ìˆ˜ë¥¼ ì¼ì¼ì´ íƒìƒ‰í•˜ì§€ ì•Šê³  ì €ì¥ëœ ê°’ì´ ìˆìœ¼ë©´ ê·¸ ê°’ë§Œ ë¶ˆëŸ¬ì˜¤ê³  ë”ì´ìƒ íƒìƒ‰í•˜ì§€ ì•Šê¸° ë•Œë¬¸ì— í›¨ì”¬ ì‹œê°„ì„ ì ˆì•½í•  ìˆ˜ ìˆë‹¤!

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FcjRnOc%2FbtsftJoRN5a%2FT0mo8RJvqATEQFSKW0ZHLk%2Fimg.png)

- ìœ„ì™€ ê°™ì€ ì…ë ¥ê°’ì´ ì£¼ì–´ì¡Œë‹¤ë©´,
- dp\[0\]\[0\] ì€ 2 -> 3 -> 4 ë¡œ ì´ë™í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— 3ì´ ì €ì¥ëœë‹¤.
- ê·¸ë¦¬ê³  dp\[1\]\[0\] ì€ 0, 0 ì¢Œí‘œë¡œ ì´ë™í–ˆì„ ë•Œ, ë©”ëª¨ì´ì œì´ì…˜ ëœ 3ì„ ë¦¬í„´ë°›ìœ¼ë©´ì„œ +1í•œ ê°’ì„ ì €ì¥í•˜ê³  3ê³¼ 4ëŠ” íƒìƒ‰í•˜ì§€ ì•ŠëŠ”ë‹¤!


### ğŸ” ì •ë‹µ

```java
import java.io.BufferedReader;
import java.io.IOException;
import java.io.InputStreamReader;
import java.util.StringTokenizer;

public class Main {
    static int N;
    static int[][] map;
    static int[][] dp;
    static int[] dx = {0, 0, 1, -1};
    static int[] dy = {1, -1, 0, 0};

    public static void main(String[] args) throws IOException {
        BufferedReader br = new BufferedReader(new InputStreamReader(System.in));
        N = Integer.parseInt(br.readLine());

        map = new int[N][N];
        dp = new int[N][N];

        for (int i = 0; i < N; i++) {
            StringTokenizer st = new StringTokenizer(br.readLine());
            for (int j = 0; j < N; j++) {
                map[i][j] = Integer.parseInt(st.nextToken());
            }
        }

        int max = 0;
        for (int i = 0; i < N; i++) {
            for (int j = 0; j < N; j++) {
                max = Math.max(max, dfs(i, j));
            }
        }

        System.out.println(max);
    }

    public static int dfs(int x, int y) {
        /**
         * dpì— ì €ì¥ëœ ê°’ì´ ìˆìœ¼ë©´ ê·¸ ê°’ì„ ë¦¬í„´
         * ê·¸ë ‡ì§€ ì•Šë‹¤ë©´ ì²« ë²ˆì§¸ ì¥ì†Œë¥¼ ì¹´ìš´íŒ…í•˜ëŠ” ì˜ë¯¸ì—ì„œ 1ë¡œ ì´ˆê¸°í™”í•´ì¤Œ!
         */
        if (dp[x][y] > 0) return dp[x][y];
        else dp[x][y] = 1;

        for (int i = 0; i < 4; i++) {
            int cx = x + dx[i];
            int cy = y + dy[i];

            if (cx >= 0 && cy >= 0 && cx < N && cy < N) {
                if (map[x][y] < map[cx][cy]) {
                    // ê¸°ì¡´ì— ì €ì¥ëœ ê°’ê³¼ ì´ë™í–ˆì„ ë•Œì˜ ê°’ ì¤‘ ë” í° ê°’ì„ ë‚¨ê²¨ë‘”ë‹¤!
                    dp[x][y] = Math.max(dp[x][y], dfs(cx, cy) + 1);
                }
            }
        }
        return dp[x][y];
    }
}
```