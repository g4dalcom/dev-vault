# [ë¬¸ì œë§í¬](https://school.programmers.co.kr/learn/courses/30/lessons/12899)

## ğŸ“ ë¬¸ì œ

###### ë¬¸ì œ ì„¤ëª…

124 ë‚˜ë¼ê°€ ìˆìŠµë‹ˆë‹¤. 124 ë‚˜ë¼ì—ì„œëŠ” 10ì§„ë²•ì´ ì•„ë‹Œ ë‹¤ìŒê³¼ ê°™ì€ ìì‹ ë“¤ë§Œì˜ ê·œì¹™ìœ¼ë¡œ ìˆ˜ë¥¼ í‘œí˜„í•©ë‹ˆë‹¤.

1. 124 ë‚˜ë¼ì—ëŠ” ìì—°ìˆ˜ë§Œ ì¡´ì¬í•©ë‹ˆë‹¤.
2. 124 ë‚˜ë¼ì—ëŠ” ëª¨ë“  ìˆ˜ë¥¼ í‘œí˜„í•  ë•Œ 1, 2, 4ë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ì„œ 124 ë‚˜ë¼ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìˆ«ìëŠ” ë‹¤ìŒê³¼ ê°™ì´ ë³€í™˜ë©ë‹ˆë‹¤.

|10ì§„ë²•|124 ë‚˜ë¼|10ì§„ë²•|124 ë‚˜ë¼|
|---|---|---|---|
|1|1|6|14|
|2|2|7|21|
|3|4|8|22|
|4|11|9|24|
|5|12|10|41|

ìì—°ìˆ˜ nì´ ë§¤ê°œë³€ìˆ˜ë¡œ ì£¼ì–´ì§ˆ ë•Œ, nì„ 124 ë‚˜ë¼ì—ì„œ ì‚¬ìš©í•˜ëŠ” ìˆ«ìë¡œ ë°”ê¾¼ ê°’ì„ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•´ ì£¼ì„¸ìš”.

##### ì œí•œì‚¬í•­

- nì€ 50,000,000ì´í•˜ì˜ ìì—°ìˆ˜ ì…ë‹ˆë‹¤.

---

##### ì…ì¶œë ¥ ì˜ˆ

|n|result|
|---|---|
|1|1|
|2|2|
|3|4|
|4|11|

---

### âŒ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ ì‹¤íŒ¨

```java
class Solution {
    
    static String[] rules = {"1", "2", "4"};
    static String result = "";
    static StringBuilder sb = new StringBuilder();
    static int count = 0;

    public String solution(int n) {
        
        // depth êµ¬í•˜ê¸°
        int sum = 0;
        int square = 0;
        int prev = 0;
        
        while (sum < n) {
            square++;
            prev = sum;
            sum += Math.pow(3, square);
        }
                
        backtracking(n - prev, square, 0);
        
        return result;
    }
    
    public void backtracking(int target, int square, int depth) {
        if (depth == square) {
            count++;
            if (count == target) {
                result = sb.toString();
                return;
            }
            return;
        }
        
        for (int i = 0; i < rules.length; i++) {
            sb.append(rules[i]);
            backtracking(target, square, depth+1);
            sb.deleteCharAt(sb.length()-1);
        }
    }
}
```

ë¬¸ì œë¥¼ ë³´ê³ ëŠ” ì¤‘ë³µ ì¡°í•©ìœ¼ë¡œ í’€ì–´ì•¼ê² ë‹¤ëŠ” ìƒê°ì„ í–ˆë‹¤.  ì´ ë•Œ ì•Œì•„ì•¼ í•˜ëŠ” ê²ƒì´ depthì˜€ëŠ”ë° nì´ 3 ì´í•˜ì¼ ê²½ìš°ì—ëŠ” 1, 2, 4ë¡œ depthëŠ” 1ì´ì–´ì•¼ í•˜ê³  4~12 ì‚¬ì´ì¼ ê²½ìš°ì—ëŠ” depthê°€ 2ì—¬ì•¼ í•œë‹¤.

ë”°ë¼ì„œ sumì— 3ì˜ xìŠ¹ì„ ëˆ„ì í•˜ë‹¤ê°€ sumê°’ì´ në³´ë‹¤ í¬ê±°ë‚˜ ê°™ì•„ì§€ëŠ” ìˆœê°„ì˜ ì§€ìˆ˜(x)ê°€ depthê°€ ëœë‹¤.

```java
        // depth êµ¬í•˜ê¸°
        int sum = 0;
        int square = 0;
        int prev = 0;
        
        while (sum < n) {
            square++;
            prev = sum;
            sum += Math.pow(3, square);
        }
```

ìœ„ì—ì„œëŠ” squareê°€ depthê°€ ëœë‹¤.
ê·¸ë¦¬ê³  depthë¥¼ êµ¬í–ˆë‹¤ë©´ ëª‡ ë²ˆì˜ ì¬ê·€ë¥¼ ë¶€ë¥¼ ê²ƒì´ëƒê°€ ê´€ê±´ì´ë‹¤.
ì˜ˆë¥¼ ë“¤ì–´ n = 5ë¼ë©´ sum += Math.pow(3, **2**)ì¼ ë•Œ whileë¬¸ì„ ë²—ì–´ë‚˜ë¯€ë¡œ depthëŠ” 2ê°€ ë˜ê³  depthê°€ 2ê°€ ëœ ìˆœê°„ë¶€í„° ë‘ ë²ˆì§¸ ê°’ì„ ë¦¬í„´í•´ì•¼ í•œë‹¤.

```text
depth 1 : 1, 2, 4
depth 2 : 11, 12
```

ê·¸ëŸ¬ë©´ depth 2ê°€ ì‹œì‘ë˜ëŠ” ìˆœê°„ì˜ ìˆ˜ë¥¼ ì•Œì•„ì•¼ í•˜ëŠ”ë° ì´ê²ƒì€ n - (whileë¬¸ì„ í†µê³¼í•˜ê¸° ë°”ë¡œ ì´ì „ì˜ sumê°’)ìœ¼ë¡œ êµ¬í•  ìˆ˜ ìˆë‹¤ê³  ìƒê°ì„ í–ˆë‹¤.

```text
depth 1 = sum = 3
5 - 3 = 2
```

ìœ„ ê³„ì‚° ê²°ê³¼ë¥¼ ê±°ì³ì„œ backtrackingì„ êµ¬í˜„í–ˆëŠ”ë° í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ëŠ” í†µê³¼í–ˆì§€ë§Œ íš¨ìœ¨ì„± í…ŒìŠ¤íŠ¸ëŠ” í†µê³¼í•˜ì§€ ëª»í–ˆë‹¤ ã… ã…  ì•„ë¬´ë˜ë„ StringBuilderë¥¼ ê³„ì† ìˆ˜ì •í•˜ë‹¤ë³´ë‹ˆ íš¨ìœ¨ì´ ì¢‹ì§€ ì•Šì€ ê²ƒ ê°™ì•˜ë‹¤.


### ğŸ’¡ ì •ë‹µ í’€ì´

ì´ë¦¬ì €ë¦¬ ë°”ê¿”ë³´ì•˜ëŠ”ë° ë‚˜ì•„ì§ˆ ê¸°ë¯¸ê°€ ë³´ì´ì§€ ì•Šì•„ì„œ íŒíŠ¸ë¥¼ ì°¾ì•„ë³´ì•˜ëŠ”ë° 3ì§„ë²•ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œì•˜ë‹¤.

ì‚¬ì‹¤ ëª¨ì–‘ë§Œ ë³´ë©´ 3ì§„ë²•ì´ ë°”ë¡œ ë– ì˜¬ëì–´ì•¼ í•˜ëŠ”ë° ì¤‘ë³µ ì¡°í•©ìœ¼ë¡œ í’€ì–´ì•¼ê² ë‹¤ëŠ” ê³ ì •ê´€ë…ì— ë°•í˜€ì„œ ë– ì˜¬ë¦¬ì§€ ëª»í•œ ê²ƒ ê°™ë‹¤ ã… ã… 

![](https://img1.daumcdn.net/thumb/R1280x0/?scode=mtistory2&fname=https%3A%2F%2Fblog.kakaocdn.net%2Fdn%2FEbxkQ%2Fbtsis0pclk2%2FnqQKp4KdS0TjkP7xvk1Hv1%2Fimg.png)

ìœ„ ë‚´ìš©ì„ ì½”ë“œë¡œ êµ¬í˜„í•˜ë©´ ë˜ëŠ”ë° 3ì§„ë²•ì€ 0, 1, 2ë§Œì„ ì‚¬ìš©í•˜ì§€ë§Œ ë¬¸ì œëŠ” 1, 2, 4ë¥¼ ì‚¬ìš©í•˜ë¯€ë¡œ 0ì„ 4ë¡œ ì¹˜í™˜í•˜ë©´ ë  ê²ƒì´ë¼ê³  ìƒê°í•  ìˆ˜ ìˆê² ë‹¤.

ê·¸ëŸ¬ë‚˜ ì—¬ê¸°ì—ëŠ” ì‘ì€ ì°¨ì´ê°€ ìˆëŠ”ë°,
3ì„ 3ì§„ë²•ìœ¼ë¡œ ë³€í™˜í•˜ë©´ 10ì´ ë˜ëŠ”ë° ë‹¨ìˆœíˆ 0ì„ 4ë¡œ ì¹˜í™˜í•˜ë©´ 14ê°€ ë˜ë¯€ë¡œ ì •ë‹µì´ ì•„ë‹ˆë‹¤.
6ì„ 3ì§„ë²•ìœ¼ë¡œ ë³€í™˜í•˜ë©´ 20ì´ ë˜ëŠ”ë° ì´ ë•Œì—ë„ 24ë¡œ ì¹˜í™˜í•˜ë©´ ì •ë‹µì´ ì•„ë‹ˆë‹¤.

3ì„ 124 ë‚˜ë¼ì˜ ê·œì¹™ìœ¼ë¡œ ë°”ê¾¸ë©´ 4ì—¬ì•¼ í•˜ê³  6ì€ 14ì—¬ì•¼ í•œë‹¤. ìœ„ ê²°ê³¼ê°’ê³¼ ë¹„êµí•˜ë©´ ì•ìë¦¬ê°€ 1ì”© ì ì–´ì•¼ ëœë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ ë‚˜ë¨¸ì§€ê°€ 0ì¼ ë•Œ(tempê°’ì´ 3ì˜ ë°°ìˆ˜ì¸ ê²½ìš°)ì—ëŠ” tempê°’ì„ 124 ê·œì¹™ì— ë”°ë¼ 4ë¡œ ë°”ê¾¸ì–´ì£¼ê³  ì•ìë¦¬ë¥¼ ì¤„ì—¬ì£¼ê¸° ìœ„í•´ temp-- ë¥¼ í•´ì£¼ëŠ” ê²ƒì´ë‹¤!


### ğŸ” ì •ë‹µ

```java
class Solution {
    public String solution(int n) {
        StringBuilder sb = new StringBuilder();
        
        while (n > 0) {
            int temp = n % 3;
            n /= 3;
            
            if (temp == 0) {
                temp = 4;
                n--;
            }
            
            sb.append(temp);
        }
        
        return sb.reverse().toString();
    }
}
```